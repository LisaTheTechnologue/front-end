<div class="container">
  <div class="row custom-wrapper">
    <div class="col-md-12">
      <h1>Create New Trip</h1>

      <a href="#" routerLink="/trip/index" class="btn btn-primary">Back</a>

      <form [formGroup]="form" >

        <div class="form-group">
          <label for="title">Title:</label>
          <input formControlName="title" id="title" type="text" class="form-control">
          <!-- <div *ngIf="f['title'].touched && f['title'].invalid" class="alert alert-danger">
        <div *ngIf="f['title'].errors && f['title'].errors['required']">Title is required.</div>
      </div> -->
        </div>

        <div class="form-group">
          <label for="highlights">Highlights</label>
          <textarea formControlName="highlights" id="highlights" type="text" class="form-control">
          </textarea>
          <!-- <div *ngIf="f['highlights'].touched && f['highlights'].invalid" class="alert alert-danger">
        <div *ngIf="f['highlights'].errors && f['highlights'].errors['required']">Highlights is required.</div>
      </div> -->
        </div>

        <div class="form-group">
          <label>Status</label>
          <select class="form-select" id="status" formControlName="status">
            <option value=""> </option>
            <option value="Completed">Completed</option>
            <option value="Cancel">Cancel</option>
          </select>
        </div>

        <div class="form-group">
          <div class="items-toolbar">
            <span>Itineraries</span>
            <div class="fill-remaining-space"></div>
            <button mat-icon-button color="accent" (click)="addItem()">
              <mat-icon class="add-item-btn">add</mat-icon>
            </button>
          </div>
          <table class="full-width" formArrayName="items"
          *ngFor="let item of getFormArray(); let i = index">
            <tr [formGroupName]="i">
              <td style="width: 65%">
                <div class="full-width">
                  <label>Name</label>
                  <input matInput formControlName="name" />
                  <!-- <mat-error *ngIf="getFormArray()[i].get('name')?.invalid">
                    {{ getErrorMessage('name', i) }}
                  </mat-error> -->
                </div>
              </td>
              <td style="width: 30%">
                <div class="full-width">
                  <label>Description</label>
                  <input matInput formControlName="description" />
                  <!-- <mat-error *ngIf="getFormArray()[i].get('description')?.invalid">
                    {{ getErrorMessage('description', i) }}
                  </mat-error> -->
                </div>
              </td>
              <td>
                <button mat-icon-button color="warn" (click)="removeItem(i)">
                  <mat-icon aria-label="Remove Lesson">delete</mat-icon>
                </button>
              </td>
            </tr>
          </table>
        </div>


      </form>
      <mat-card-actions class="actions-center">
        <button mat-raised-button color="primary" (click)="onSubmit()" type="submit">
          Save
        </button>
        <button mat-raised-button (click)="onCancel()" class="btn-space" type="button">
          Cancel
        </button>
      </mat-card-actions>
    </div>
  </div>
</div>
