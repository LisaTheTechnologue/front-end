<div class="container my-5">
  <div *ngIf="error">{{ error }} </div>
  <div *ngIf="trip">
    <div class="row">
      <div class="col-6 p-3">
        <p class="h3">{{ trip.title }}</p>
        <div>Lead by: <app-profile-card [leaderId]="trip.leaderId"></app-profile-card> </div>
        <p>{{trip.introduction}}</p>
        <p>Trip is opened until {{ trip.fromDate }}</p>
      </div>
      <div class="col-6 d-flex justify-content-center">
        <img [src]="trip.processedImg" alt="trip-image">
      </div>
    </div>

    <div class="row ">
      <div class="col-3 p-3">
        <div class="border bg-white p-3">
          <p>Duration {{ trip.fromDate }} - {{ trip.toDate }}</p>
          <p>Adventure Level: {{trip.tripLevel}}</p>
          <p>Age {{trip.fromAge}} - {{trip.toAge}} years old</p>
          <p>{{trip.budget}}/pax</p>
          <p>Number of team member: {{trip.groupSize}}</p>
        </div>
      </div>
      <div class="col p-3">
        {{ trip.highlights }}
      </div>
    </div>

    <div class="row">
      <div class="col-3 p-3"><div class="h5">Itinerary:</div></div>
      <div class="col p-3">
        <table class="table table-striped mt-1">
          <tbody>
            <tr *ngFor="let item of trip.items">
              <td>Day {{ item.dayNo }}</td>
              <td>{{ item.title }}</td>
              <td>{{ item.description }}</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>

    <div class="row">
      <div class="col-3 p-3"><div class="h5">Notes:</div></div>
      <div class="col p-3">
        <p>{{ trip.notes }}</p>
      </div>
    </div>

    <div class="row" *ngIf="trip.members.length > 0">
      <div class="col-3 p-3"><div class="h5">Your company:</div></div>
      <div class="col p-3">
        <ol class="list-group list-group-numbered">
          <li class="list-group-item" *ngFor="let item of trip.members; let i = index">
            {{ item.userName }}
          </li>
        </ol>
      </div>
    </div>

    <div>
      <button mat-flat-button color="success" *ngIf="!isJoined" class="me-2" [routerLink]="['/member/join-trip/',trip.id]">
        <mat-icon>input</mat-icon> Join Trip
      </button>
      <button mat-stroked-button color="success" *ngIf="isJoined" class="me-2" [routerLink]="['/member/feedback/',trip.id]">
        <mat-icon>feedback</mat-icon> Rate Trip
      </button>
    </div>
  </div>
</div>
